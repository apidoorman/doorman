STARTUP_ADMIN_EMAIL=admin@localhost.com
STARTUP_ADMIN_PASSWORD=SecPassword!12345

# Unified cache/DB mode
MEM_OR_EXTERNAL=MEM

# Mongo (optional when memory-only)
MONGO_DB_HOSTS=localhost:27017
MONGO_REPLICA_SET_NAME=rs0

# Redis (recommended for rate-limiting/cache)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Dumps path (memory-only mode)
MEM_DUMP_PATH=generated/memory_dump.bin

# Auth
JWT_SECRET_KEY=please-change-me
# Access/refresh token expiry (defaults shown)
AUTH_EXPIRE_TIME=30
AUTH_EXPIRE_TIME_FREQ=minutes
AUTH_REFRESH_EXPIRE_TIME=7
AUTH_REFRESH_EXPIRE_FREQ=days

# Secrets & Encryption
# Encrypt API keys at rest and memory dumps
TOKEN_ENCRYPTION_KEY=optional-secret-for-api-key-encryption
MEM_ENCRYPTION_KEY=change-this-32+chars

# CORS/HTTPS
ALLOWED_ORIGINS=http://localhost:3000
CORS_STRICT=true
ALLOW_CREDENTIALS=true
ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH,HEAD
ALLOW_HEADERS=*
HTTPS_ONLY=true
# Enforce CSRF double-submit validation (and set Secure cookies when HTTPS_ONLY=true)
HTTPS_ENABLED=true
COOKIE_DOMAIN=localhost
# Optional: Custom Content Security Policy (defaults to restrictive policy)
# CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'

# HTTP Client Connection Pooling (httpx)
ENABLE_HTTPX_CLIENT_CACHE=true
HTTP_MAX_CONNECTIONS=100
HTTP_MAX_KEEPALIVE=50
HTTP_KEEPALIVE_EXPIRY=30.0
# Timeouts (seconds)
HTTP_CONNECT_TIMEOUT=5.0
HTTP_READ_TIMEOUT=30.0
HTTP_WRITE_TIMEOUT=30.0
HTTP_TIMEOUT=30.0
# Enable HTTP/2 (default: false)
HTTP_ENABLE_HTTP2=false

# Security
# Max request body size in bytes (default: 1MB)
MAX_BODY_SIZE_BYTES=1048576
# Per-API type overrides (optional)
# MAX_BODY_SIZE_BYTES_REST=1048576
# MAX_BODY_SIZE_BYTES_SOAP=2097152
# MAX_BODY_SIZE_BYTES_GRAPHQL=524288
# MAX_BODY_SIZE_BYTES_GRPC=1048576
# Allow localhost to bypass IP filters when no X-Forwarded-For header present
LOCAL_HOST_IP_BYPASS=true

# Logging
# Format: json or plain
LOG_FORMAT=plain
# Optional: custom logs directory (defaults to backend-services/platform-logs)
# LOGS_DIR=/path/to/logs

# App
PORT=5001
THREADS=4
DEV_RELOAD=false
# Production environment flag (enforces HTTPS checks)
ENV=development
SSL_CERTFILE=./certs/localhost.crt
SSL_KEYFILE=./certs/localhost.key
PID_FILE=doorman.pid
